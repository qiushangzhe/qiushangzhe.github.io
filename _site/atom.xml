<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title></title>
 <link href="http://qiushangzhe.github.io/atom.xml" rel="self"/>
 <link href="http://qiushangzhe.github.io"/>
 <updated>2018-05-17T19:13:06+08:00</updated>
 <author>
   <name>qiushangzhe</name>
   <email>470542573@qq.com</email>
 </author>

 
 <entry>
   <title>微信交易记录导出excel</title>
   <link href="http://qiushangzhe.github.io/idea/weixin.html"/>
   <updated>2018-05-11T08:01:01+08:00</updated>
   <id>/idea/weixin</id>
   <content type="html">&lt;h2 id=&quot;目的&quot;&gt;目的：&lt;/h2&gt;

&lt;p&gt;通过抓取微信钱包-&amp;gt;支付中心-&amp;gt;交易记录接口的json response，格式化后输出到excel中。方便直观统计个人支出记录。&lt;/p&gt;

&lt;!-- more --&gt;
&lt;h2 id=&quot;实现方式&quot;&gt;实现方式：&lt;/h2&gt;

&lt;h3 id=&quot;工具环境&quot;&gt;工具&amp;amp;环境&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;Charles&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;node&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;步骤&quot;&gt;步骤&lt;/h3&gt;

&lt;h4 id=&quot;1-实现pac自动代理服务&quot;&gt;1. 实现PAC自动代理服务&lt;/h4&gt;
&lt;h5 id=&quot;目的-1&quot;&gt;目的：&lt;/h5&gt;

&lt;p&gt;由于手机上可能会出现很多无用的http请求，所以通过PAC自动代理的方式，对手机的http请求进行一次过滤，只转发命中的接口，没有命中的接口不走代理服务。&lt;/p&gt;

&lt;p&gt;实现自动转发对应的需要分析数据的接口到代理服务（Charles）。&lt;/p&gt;

&lt;p&gt;代码如下：&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cm&quot;&gt;/* PAC-Service.js */&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;http&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'http'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'fs'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createServer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;writeHead&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Content-Type'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'application/x-ns-proxy-autoconfig'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createReadStream&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'./test.pac'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'9090'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'0.0.0.0'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/* test.pac */ 
function FindProxyForURL(url, host) {
    if(dnsDomainIs(host, &quot;wx.tenpay.com&quot;)){
        return &quot;PROXY 100.66.155.37:8000&quot;;
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;开启PAC服务 端口9090&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;2-在手机上安装charles-https-证书&quot;&gt;2. 在手机上安装Charles https 证书&lt;/h4&gt;

&lt;p&gt;https://blog.csdn.net/xiaobianjava/article/details/68490127&lt;/p&gt;

&lt;h4 id=&quot;3-手机配置pac代理&quot;&gt;3. 手机配置PAC代理&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;打开wiki网络详情。&lt;/li&gt;
  &lt;li&gt;代理处设置 自动配置&lt;/li&gt;
  &lt;li&gt;输入PAC服务地址 （node实现）&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;4-charles抓取数据&quot;&gt;4. Charles抓取数据&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;打开微信 微信钱包-&amp;gt;支付中心-&amp;gt;交易记录&lt;/li&gt;
  &lt;li&gt;滚动界面，直到所要抓取支付数据全部抓取完毕。&lt;/li&gt;
  &lt;li&gt;把response保存到本地，保存成json文件。由于这里展示的是分页形式，所以json文件会出现多个。&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;5-分析数据&quot;&gt;5. 分析数据&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;这里我只统计 花销方式，交易时间，金额，支付方式 这几个我感兴趣的字段。&lt;/li&gt;
  &lt;li&gt;生成excel文件使用的是 node-xlsx&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cm&quot;&gt;/* 统计代码 */&lt;/span&gt; 
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'fs'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;xlsx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'node-xlsx'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'序号'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'花销方式'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'时间'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'金额'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'备注'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'支付方式'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;readFileSync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;record&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;''&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;timestamp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toLocaleString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fee&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remark&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pay_bank_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;xlsx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;微信花销&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}]);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;writeFileSync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'微信花销.xlsx'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/* 这里的json都是从charles导出的response数据 */&lt;/span&gt; 

&lt;span class=&quot;nx&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'../01.json'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'../02.json'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'../03.json'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'../04.json'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'../05.json'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'../06.json'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'../07.json'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;问题&quot;&gt;问题&lt;/h2&gt;

&lt;p&gt;其中的交易记录有支出也有收入（红包）。所以在统计数据的时候需要判断当前记录的类型。&lt;/p&gt;

&lt;p&gt;本人的记录中全是支出，所以这块没有判断。&lt;/p&gt;

&lt;h2 id=&quot;写在最后&quot;&gt;写在最后&lt;/h2&gt;

&lt;p&gt;我本来想本地开一个https代理服务，然后通过PAC转发对应接口到本地代理服务，然后收到返回数据后直接做数据统计。&lt;/p&gt;

&lt;p&gt;想法很美好，但是这个https服务就是不好使。等以后无聊再铜鼓铜鼓。&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>在linux下安装mysql</title>
   <link href="http://qiushangzhe.github.io/install-mysql.html"/>
   <updated>2018-04-27T00:00:00+08:00</updated>
   <id>/install-mysql</id>
   <content type="html">&lt;h2 id=&quot;安装&quot;&gt;安装&lt;/h2&gt;

&lt;h4 id=&quot;0提前准备删除已安装的mysql&quot;&gt;0.提前准备：删除已安装的mysql&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;查看已安装的mysql &lt;code class=&quot;highlighter-rouge&quot;&gt;rpm -qa |  grep mysql&lt;/code&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;删除方法&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;sudo rpm -e –nodeps 包名&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;1-第一步下载去官网选好自己的版本&quot;&gt;1. 第一步下载（去官网选好自己的版本）&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;wget -c https://cdn.mysql.com//Downloads/MySQL-5.7/mysql-community-common-5.7.21-1.el7.x86_64.rpm&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;wget -c https://cdn.mysql.com//Downloads/MySQL-5.7/mysql-community-client-5.7.21-1.el7.x86_64.rpm&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;wget -c https://cdn.mysql.com//Downloads/MySQL-5.7/mysql-community-server-5.7.21-1.el7.x86_64.rpm&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;wget -c https://cdn.mysql.com//Downloads/MySQL-5.7/mysql-community-libs-5.7.21-1.el7.x86_64.rpm&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;2-第二步安装&quot;&gt;2. 第二步安装：&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;一定按照顺序common –&amp;gt; libs –&amp;gt; clients –&amp;gt; server&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;rpm -ivh mysql-community-common-5.7.21-1.el7.x86_64.rpm&lt;/li&gt;
  &lt;li&gt;rpm -ivh mysql-community-libs-5.7.21-1.el7.x86_64.rpm&lt;/li&gt;
  &lt;li&gt;rpm -ivh mysql-community-client-5.7.21-1.el7.x86_64.rpm&lt;/li&gt;
  &lt;li&gt;rpm -ivh mysql-community-server-5.7.21-1.el7.x86_64.rpm&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;3-第三步骤开启mysql&quot;&gt;3. 第三步骤开启mysql&lt;/h4&gt;
&lt;p&gt;sudo service mysqld start&lt;/p&gt;

&lt;h4 id=&quot;4-第四步骤-登录&quot;&gt;4. 第四步骤 登录&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;密码提前找到：&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;mysql5.7以上的默认密码查看方式
grep “temporary password” /var/log/mysqld.log&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;mysql -uroot -p登录&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;安装完mysql 之后，登陆以后，不管运行任何命令，总是提示这个&lt;/p&gt;
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;step 1: SET PASSWORD = PASSWORD('一个随机的密码');
step 2: ALTER USER 'root'@'localhost' PASSWORD EXPIRE NEVER;
step 3: flush privileges;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;over&lt;/p&gt;

&lt;p&gt;https://www.cnblogs.com/frankielf0921/p/7258137.html
https://www.cnblogs.com/520playboy/p/6231158.html&lt;/p&gt;

&lt;h2 id=&quot;其他&quot;&gt;其他&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;给某个数据库添加账号和权限&lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
  &lt;li&gt;grant create,select,insert,update,delete on （数据库名）.&lt;em&gt;（数据表名，&lt;/em&gt;为所有表） to 账号@”%” Identified by “密码”;&lt;/li&gt;
  &lt;li&gt;flush privileges;&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>博弈论简谈</title>
   <link href="http://qiushangzhe.github.io/boyilun.html"/>
   <updated>2018-04-26T00:00:00+08:00</updated>
   <id>/boyilun</id>
   <content type="html">&lt;h3 id=&quot;topic-01-我们生活在困境中&quot;&gt;topic 01 我们生活在困境中&lt;/h3&gt;
&lt;p&gt;给大家讲几个我身边的事情：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;我身边会有很多孩子的家长，给孩子报兴趣班，学钢琴，毛笔字，各种巴拉巴拉。这是条件好一点的，条件差一点的，也会报各种的课外辅导班。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;我就拿一个我自己身边的例子来说，我小的时候，基本周六周日都会去上补课班，而且不是一个人两个人这样，几乎我们一个班级60人，每天放学，每周放假都会有大约40人参加这个补课班。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;我在高三快考大学的时候，很多商家会来我们学校推销补脑的东西，很多家长也都不太懂是什么东西，就看到别人也买了，自己也跟着买了，虽然最后这个保健药品，跟吃3块钱一包的蛋白粉差不多。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;运动员服用兴奋剂这个事情其实已经成为业内一个潜规则，几乎百分之90的运动员，在大型比赛中都会或多或少的使用一些兴奋剂来提高比赛成绩，只不过一些国家医学水平比较发达，可以开发出隐蔽性高的药物，或是国家在赛组委会里面有内鬼，里应外合，让服用兴奋剂不会轻易被发现。中国也不例外（百度：李承鹏兴奋剂）&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;还有开车的人特别痛恨的开远光。我想这个事情除非出台重罚法律，否则这个事情会一直存在。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;财礼，男方家，想少给，女方家想多要。结果多年的感情就在马上结婚之前因为彩礼的事情谈崩了。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;我想大家现在应该也会隐约的在我说的这些事情上发现一些共同点。可能每个人对这些身边发生的事情都有自己的见解，我只说一下这里面我要说的点。这些事情基本都可以概括为，跟风。或者说是大家都这么做，我不这么做就吃亏了。或者说个人的利益最大化。人类其实的本能就是在对得与失作出充分计算后行动的动物。&lt;/p&gt;

&lt;p&gt;那么我就着这几个小事情再给大家提供另一个思路（以下为极端情况）：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;如果当代社会中的所有家长，都不给孩子报比如钢琴班，那么所有的孩子都不会弹钢琴，那么和所有的孩子都会弹钢琴，实际上是差不多的。因为最后竞争的时候，所有人都不会弹钢琴，和所有人都会弹实际是等价的。况且上钢琴班还要花钱。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;所有人都不去上课外培训班，大家都只在学校学习，其他时间都好好的度过课余时间。实际上和所有人在学校学习，放学了／放假了去课外辅导班，是一样的。而且如果每个人都不去课外辅导班，那么所有人可能只有60分的学力，那么老师出题可能还会简单，否则每个人都有100分的学力，不仅会让考试题更难，而且还牺牲了课余时间，还费钱。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;保健品的事情，如果每个人都不买，那么每个人都会获益对吧？先不说吃了以后有没有效果，如果每个人都不买，那么每个人也不会被骗钱。但现实就是，很多人宁可高价跟风去买这个东西，也要试试，毕竟别人也吃了。如果有效果的话，我没有吃岂不是吃亏了。😄&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;兴奋剂！如果所有的运动员或者国家都对兴奋剂说不，那么也免去了开发成本，隐藏成本，还有服用后的副作用。百利无一害的东西。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;远光灯。所有人都遵守规则，在该开远光的时候开，不该开的时候都不开。即不让别人苦恼，而且自己也省电。（我其实也不知道省不省电哈）&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;彩礼，男方多给点，女方少要点。事情就很开心。（哈哈）&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;刚刚也说了，人类其实的本能就是在对得与失作出充分计算后行动的动物。明明所有人都不这么做，这个事情获得的收益会更大，但是人们往往却不约而同的让事情往对大家都不好的方向发生。为啥捏？？？？&lt;/p&gt;

&lt;p&gt;我拿兴奋剂为例子，列一个表格：&lt;/p&gt;

&lt;p&gt;（我们假设吃药不会被轻易查出来）	B运动员选择吃兴奋剂	B运动员选择不吃兴奋剂
A运动员选择吃兴奋剂	A发挥超常(获得并列冠军)，赛后出现后遗症，可能被抓到吃药的把柄，禁赛。
B发挥超常(获得并列冠军)，赛后出现后遗症，赛后出现后遗症，可能被抓到吃药的把柄，禁赛。
A发挥超常(获得冠军)，赛后出现后遗症，可能被抓到吃药的把柄，禁赛。
B普通发挥
A运动员选择不吃兴奋剂	A普通发挥
B发挥超常(获得冠军)，赛后出现后遗症，可能被抓到吃药的把柄，禁赛。
两人均正常发挥。&lt;/p&gt;

&lt;p&gt;那么如果我是A，不论B是否吃兴奋剂，那么我选择吃兴奋剂，都是对我自己最优的选择。&lt;/p&gt;

&lt;p&gt;我再举一个比较大的例子。&lt;/p&gt;

&lt;p&gt;朝鲜和美国之间的那些事情：
现在朝鲜在搞核实验，准备怒怼美国。
美国现在在疯狂的经济制裁朝鲜。&lt;/p&gt;

&lt;p&gt;其实两国之间，朝鲜不进行核试验，美国也不制裁朝鲜，大家相安无事是最优解。但是为什么会发生这种事情呢？
这个问题分析同上一个问题如出一辙，请看表格。&lt;/p&gt;

&lt;p&gt;朝鲜研究核武器	朝鲜不研究核武器
美国经济制裁朝鲜	美国担心朝鲜哪天给我一导弹。
朝鲜经济受到了影响。人民吃不饱。	压制朝鲜的经济，让他不能动摇美国第一霸权国家的地位。
美国不制裁朝鲜	朝鲜自己的军事实力得到大幅度的提升	朝鲜还是像得到全球各国的援助。
美国不用在意朝鲜的核武器。
哝。不论美朝双方怎么选，另一者都会选择对自己有利的哪一种决策。破这个局，看来只能让中国代替美国成为世界一把手了 哈哈。&lt;/p&gt;

&lt;p&gt;这些其实都是一种叫做囚徒困境的博弈论模型的典型实例，其主旨是反映个人最佳选择并非团体最佳选择。&lt;/p&gt;

&lt;h3 id=&quot;topic-02-困境对我们的影响&quot;&gt;topic 02 困境对我们的影响&lt;/h3&gt;

&lt;p&gt;再说一个：&lt;/p&gt;

&lt;h4 id=&quot;沉默的公众&quot;&gt;沉默的公众&lt;/h4&gt;

&lt;p&gt;小偷在公共场合偷东西，有人看到了却默不作声，没有被偷的人在想，反正没有偷我，我举报了他，我没有任何的收益，还可能被小偷报复。而不举报默不作声，虽然得不到什么，但也不受损。
小偷也是一样的思路，如果谁反抗举报我，我就揍他，报复他，因为如果个别人举报我反抗，而我不揍他的话，就会有更多的人举报我，反抗我。导致我被抓住，因此小偷必定要打举报他偷东西的人。&lt;/p&gt;

&lt;p&gt;有人举报	没人举报
小偷打举报他的人	举报者被揍，其他人害怕。	-
小偷不打举报他的人	更多人过来抓小偷。	很完美
所以很容易出现，在某种公共场合，需要有人出来维持正义与道德秩序的时候，却没有任何一个人站出来说一句话的沉默的困境。
比如当今的很多媒体。&lt;/p&gt;

&lt;p&gt;公交车上有人偷东西，没人出来抗争。
老人摔倒了，大家都远远望着不敢近身。
游人如织的公园，一个小孩掉水里了，没人救。&lt;/p&gt;

&lt;p&gt;这种群体沉默的结果将使社会风气恶化，对个体来说，可能倒霉的不是你，但是我们并不知道什么时候就会轮上我们。
尽管我们可以认为沉默者心灵麻木，感情冷漠，否则他们应该打破沉默，但是我们不得不痛苦的承认，其实所有的沉默者都十分的清醒，他们的沉默对于个人来说，在那种环境下都是最理智，最经济的一种选择。因为每个人都想损失小一些。收益大一些。但由此造成的沉默现象，却给全社会带来了道德上的致命伤害。&lt;/p&gt;

&lt;h3 id=&quot;逃兵&quot;&gt;逃兵&lt;/h3&gt;

&lt;p&gt;假如你是一个战场上的士兵。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;如果我方取得战争胜利，大概率是跟你没太大关系的。你倒是冒着可能受伤或者送命的风险。&lt;/li&gt;
  &lt;li&gt;如果敌人取得胜利，你八成能不能留个全尸都不一定。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;那么当冲锋号响起的时候，你咋办。&lt;/p&gt;

&lt;p&gt;如果大家都往前跑的时候，你稍微往后退后一点，是不是就能稍微增加活下来的几率。&lt;/p&gt;

&lt;p&gt;抛出一些什么信仰哈，荣耀啊，尊严啊的事情，你不得不承认。的确是稍微怂一点，可能增加一点点活下来的几率。那么问题来了。所有的士兵要是都这么想。都怂了。那么这仗也不用干了。敌人分分钟干倒你们所有人。&lt;/p&gt;

&lt;p&gt;对团体而言，每个人都冲上去和人家拼，是对每个人都有利的。但是就个人而言，怂一点，是对自己有利的。对每一个士兵而言，一个逃兵是最优解。&lt;/p&gt;

&lt;p&gt;这是一个典型的囚徒困境的推演。当然现实生活中肯定不会发生这样的事情，因为每个士兵还会有，信仰，荣耀，尊严。甚至是当逃兵后要面对的军事法庭等等。&lt;/p&gt;

&lt;h3 id=&quot;topic-03-如何走出困境&quot;&gt;topic 03 如何走出困境&lt;/h3&gt;

&lt;p&gt;那么也就是说，想阻止囚徒困境的发生，就必须提高某种角色要付出的代价或者获得的收益。
比如，提高反抗小偷后人们获得的收益，无论是精神上的收益还是金钱上的。一定要抬高这个收益。
或者是提高小偷偷东西被抓住要付出的代价。比如抓住就判死刑。（哈哈 开个玩笑 就是意淫一下）&lt;/p&gt;

&lt;p&gt;比如，提高对乐于助人的人的奖励。
或者，提高那些趁机碰瓷讹人的要付出的代价。无论是精神上还是肉体上还是金钱上。&lt;/p&gt;

&lt;p&gt;但是令人伤心的是，我们现在的社会，好像对于这方面并不是做的很好，偷东西的人很多都是跟警察一伙的，有的前脚被抓住，后脚就被放出来了。讹人的人，还是能讹到钱。虽然它们并不占理&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>js中string常用操作</title>
   <link href="http://qiushangzhe.github.io/js-string.html"/>
   <updated>2018-04-03T00:00:00+08:00</updated>
   <id>/js-string</id>
   <content type="html">&lt;h2 id=&quot;1字符串转换&quot;&gt;1、字符串转换&lt;/h2&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2410&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 2410&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// &quot;2410&quot;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2410&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 2410&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// &quot;2410&quot;&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2410&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 2410&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// &quot;2410&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;2字符串分割&quot;&gt;2、字符串分割&lt;/h2&gt;
&lt;h3 id=&quot;split&quot;&gt;split&lt;/h3&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1,2,3,4,5,6,7&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;substrArray&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;// [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;];&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// split()的第二个参数，表示返回的字符串数组的最大长度。&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;otherArr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;// [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;3获取字符串长度&quot;&gt;3、获取字符串长度&lt;/h2&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;123456789&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//9&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;4查询子字符串&quot;&gt;4、查询子字符串&lt;/h2&gt;
&lt;h3 id=&quot;indexof&quot;&gt;indexOf&lt;/h3&gt;
&lt;p&gt;它从字符串的开头开始查找，找到返回对应坐标，找不到返回-1。&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;123456789&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 0 ,基于0开始,找不到返回-1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;lastindexof&quot;&gt;lastIndexOf&lt;/h3&gt;

&lt;p&gt;它从字符串的末尾开始查找，找到返回对应坐标，找不到返回-1&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;123456789&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lastIndexOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 14&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;以上两个函数同样接收第二个可选的参数，表示开始查找的位置。&lt;/p&gt;

&lt;h2 id=&quot;5字符串替换&quot;&gt;5、字符串替换&lt;/h2&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I,love,you,Do,you,love,me&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;replacedStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;love&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hate&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//&quot;I,hate,you,Do,you,love,me&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;默认只替换第一次查找到的，想要全局替换，需要置上正则全局标识，如：&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I,love,you,Do,you,love,me&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;replacedStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/love/g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hate&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//&quot;I,hate,you,Do,you,hate,me&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;6查找给定位置的字符或其字符编码值&quot;&gt;6、查找给定位置的字符或其字符编码值&lt;/h2&gt;

&lt;p&gt;想要查找给定位置的字符，你可以使用如下函数：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I,love,you,Do,you,love,me&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;theChar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;charAt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;// &quot;o&quot;,同样从0开始&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;同样，它的一个兄弟函数就是查找对应位置的字符编码值，如：&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I,love,you,Do,you,love,me&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;theChar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;charCodeAt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//111&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h2 id=&quot;7字符串连接&quot;&gt;7、字符串连接&lt;/h2&gt;

&lt;p&gt;字符串连接操作可以简单到用一个加法运算符搞定，如：&lt;/p&gt;
&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I,love,you!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Do,you,love,me?&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Yes!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//&quot;I,love,you!Do,you,love,me?Yes!&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;同样，JavaScript也自带了相关的函数，如：&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I,love,you!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Do,you,love,me?&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;str1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;str2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//&quot;I,love,you!Do,you,love,me?&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;其中concat()函数可以有多个参数，传递多个字符串，拼接多个字符串。&lt;/p&gt;

&lt;h2 id=&quot;8字符串切割和提取&quot;&gt;8、字符串切割和提取&lt;/h2&gt;

&lt;p&gt;有三种可以从字符串中抽取和切割的方法，如：&lt;/p&gt;

&lt;h3 id=&quot;第一种使用slice&quot;&gt;第一种，使用slice():&lt;/h3&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I,love,you,Do,you,love,me&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;subStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//&quot;,lov&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h3 id=&quot;第二种使用substring&quot;&gt;第二种，使用substring():&lt;/h3&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I,love,you,Do,you,love,me&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;subStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;substring&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//&quot;,lov&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h3 id=&quot;第三种使用substr&quot;&gt;第三种，使用substr():&lt;/h3&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I,love,you,Do,you,love,me&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;subStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;substr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//&quot;,love&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;与第一种和第二种不同的是，substr()第二个参数代表截取的字符串最大长度，如上结果所示。&lt;/p&gt;

&lt;h3 id=&quot;9字符串大小写转换&quot;&gt;9、字符串大小写转换&lt;/h3&gt;

&lt;p&gt;常用的转换为大写或者小写字符串函数，如下：&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I,love,you,Do,you,love,me&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lowCaseStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//&quot;i,love,you,do,you,love,me&quot;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;upCaseStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toUpperCase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;//&quot;I,LOVE,YOU,DO,YOU,LOVE,ME&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;10字符串匹配&quot;&gt;10、字符串匹配&lt;/h3&gt;

&lt;p&gt;字符串匹配可能需要你对正则表达式有一定的了解，先来看看match()函数：&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I,love,you,Do,you,love,me&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pattern&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/love/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pattern&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//[&quot;love&quot;]&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//2&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//I,love,you,Do,you,love,me&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;如你所见，match()函数在字符串上调用，并且接受一个正则的参数。来看看第二个例子，使用exec()函数：&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I,love,you,Do,you,love,me&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pattern&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/love/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pattern&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//[&quot;love&quot;]&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//2&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//I,love,you,Do,you,love,me&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;简单吧，仅仅是把正则和字符串换了个位置，即exec()函数是在正则上调用，传递字符串的参数。对于上面两个方法，匹配的结果都是返回第一个匹配成功的字符串，如果匹配失败则返回null.&lt;/p&gt;

&lt;p&gt;再来看一个类似的方法search(),如：&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;I,love,you,Do,you,love,me&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pattern&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/love/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pattern&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;//2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;仅返回查到的匹配的下标，如果匹配失败则返回-1.&lt;/p&gt;

&lt;h3 id=&quot;11字符串比较&quot;&gt;11、字符串比较&lt;/h3&gt;

&lt;p&gt;比较两个字符串，比较是规则是按照字母表顺序比较的，如：&lt;/p&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;chicken&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStrTwo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;egg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localeCompare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;myStrTwo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// -1&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localeCompare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;chicken&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 0&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;myStr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localeCompare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;apple&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>人力资源了解一下</title>
   <link href="http://qiushangzhe.github.io/smart.html"/>
   <updated>2018-04-01T00:00:00+08:00</updated>
   <id>/smart</id>
   <content type="html">&lt;h2 id=&quot;冰山模型&quot;&gt;冰山模型&lt;/h2&gt;
&lt;p&gt;冰山模型指的是恒定一个人对于某一项工作是否可以胜任。不仅仅是需要考量工作技能和专业知识等表面的，还要考量一些关于这个人内在的一些特性
比如：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;一个人基于态度和价值观的行为方式与风格。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;一个人的价值观，态度，以及自我印象。&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;是不是自信的人。&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;是不是具有合作精神。&lt;/p&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;是不是具有献身精神。&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;性格，品质，这些可以预测这个人在长期无人监督下的工作状态。&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;比如 正直的人 诚实的人 有责任心的人&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;潜在的需求，偏好，驱动引导个人行动&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;成就需求，热爱挑战。&lt;/li&gt;
      &lt;li&gt;人际交往需求，擅长交流&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;smart原则&quot;&gt;SMART原则&lt;/h2&gt;
&lt;p&gt;制定目标的原则。&lt;/p&gt;

&lt;p&gt;要具体的，可以量化，是符合实际切实可实现的，是和自身要完成的事情有一定的关联的，有时限性。&lt;/p&gt;

&lt;p&gt;比如 我要让人帮我做一件事。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;bad:我说，老婆，我渴了。    （这就是很傻逼的一种，我知道你要喝水还是喝茶。）&lt;/li&gt;
  &lt;li&gt;good:但是我说，老婆，你帮我去楼下超市买一瓶冰镇的矿泉水。在5分钟内帮我买回来。（这个就是目的性很强的指令）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;比如我要制定一个计划。&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;bad:我要学会理财。（？？？）&lt;/li&gt;
  &lt;li&gt;good:我这个月要记账，每天晚上把当天的财务支出都统计在本本上。月底回顾一下。哪些是必要消费，哪些是不必要消费。（这个就比较具体的）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;比如我要介绍我的工作履历&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;bad：我负责xxx业务。（喵喵喵？）&lt;/li&gt;
  &lt;li&gt;good：我在今年的3月到10月，完成20个xxx业务需求的迭代上线。线上bug率0。（这样就很舒适）&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>树莓派中常用操作</title>
   <link href="http://qiushangzhe.github.io/pi-action.html"/>
   <updated>2018-03-16T00:00:00+08:00</updated>
   <id>/pi-action</id>
   <content type="html">&lt;h2 id=&quot;下载资源网&quot;&gt;下载资源网&lt;/h2&gt;
&lt;p&gt;http://shumeipai.nxez.com/download&lt;/p&gt;

&lt;h2 id=&quot;安装ftp服务&quot;&gt;安装ftp服务&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;sudo apt-get install vsftpd&lt;/li&gt;
  &lt;li&gt;sudo nano /etc/vsftpd.conf 配置文件修改&lt;/li&gt;
  &lt;li&gt;启动服务 sudo service vsftpd start／。。。&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;安装nginx&quot;&gt;安装nginx &lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;sudo apt-get install nginx&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;创建软连接&quot;&gt;创建软连接&lt;/h2&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /home/pi/node-v9.3.0-linux-armv7l/bin/node /usr/sbin/
&lt;span class=&quot;nb&quot;&gt;sudo ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /home/pi/node-v9.3.0-linux-armv7l/bin/npm /usr/sbin/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;禁止休眠&quot;&gt;禁止休眠&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;http://www.mz6.net/news/android/6942.html 
用文件管理器打开/etc/profile.d文件夹，新建个screen.sh文件，使用Text Editor打开该文件，输入下列两行命令，然后保存。
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xset dpms 0 0 0
xset s off
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;然后 &lt;code class=&quot;highlighter-rouge&quot;&gt;chmod 777 screen.sh&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;安装mysql&quot;&gt;安装mysql&lt;/h2&gt;

&lt;p&gt;http://blog.csdn.net/faryang/article/details/50788795&lt;/p&gt;

&lt;h2 id=&quot;natapp-开机运行&quot;&gt;natapp 开机运行&lt;/h2&gt;

&lt;p&gt;Natapp For 树莓派 开机启动脚本&lt;/p&gt;

&lt;h2 id=&quot;运行natapp客户端&quot;&gt;运行natapp客户端&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;在 https://natapp.cn 官网 下载客户端. 放在目录 /usr/natapp/ 运行&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo chmod a+x /usr/natapp/natapp&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;给予可执行权限&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;下载config.ini放置在同级目录,config 配置说明请见 https://natapp.cn/article/config_ini&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;将authtoken等配置 写入 config.ini中.&lt;/p&gt;

&lt;p&gt;需要注意的是 务必关闭 关闭Web管理界面 (登录网站-&amp;gt;我的隧道-&amp;gt;配置)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;测试运行情况&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;./usr/natapp/natapp&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;实际测试穿透应用,确保无误,后关闭客户端&lt;/p&gt;

&lt;h4 id=&quot;自启动脚本&quot;&gt;自启动脚本&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;将启动脚本 (下载) 放在 &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/init.d/&lt;/code&gt; 下&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;给予 755权限&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo chmod 755 /etc/init.d/natapp&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;测试 init.d 启动 运行&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo /etc/init.d/natapp start&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;确保穿透应用运行无误.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;加入开机自启动&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;cd /etc/init.d&lt;/code&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo update-rc.d natapp defaults 90&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;此步骤需保证无任何错误输出&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo reboot&lt;/code&gt;
正常的话,已经可以自动了&lt;/p&gt;

&lt;h4 id=&quot;相关命令&quot;&gt;相关命令&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo /etc/init.d/natapp start&lt;/code&gt;    #开启
&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo /etc/init.d/natapp stop&lt;/code&gt;    #关闭
&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo /etc/init.d/natapp restart&lt;/code&gt;  #重启&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;cd /etc/init.d&lt;/code&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo update-rc.d natapp defaults 90&lt;/code&gt;    #加入开机启动
&lt;code class=&quot;highlighter-rouge&quot;&gt;sudo update-rc.d -f natapp remove&lt;/code&gt;  #取消开机启动&lt;/p&gt;

&lt;h2 id=&quot;开启端口远程访问&quot;&gt;开启端口远程访问&lt;/h2&gt;
&lt;p&gt;这里的iptable命令和centos中命令不一样，所以参考了一下文档，使用 ufw软件来开启3306端口
4.1安装ufw&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;apt-get installufw&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;4.2启用ufw&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ufw enable
ufw default deny
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;4.3开启3306、22（ssh端口）端口&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ufw allow 3306 
ufw allow 22 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;注意：如果不开启22端口，下次启动树莓派时，系统的22端口会禁用，不能使用ssh登录树莓派&lt;/p&gt;

&lt;h2 id=&quot;换源&quot;&gt;换源&lt;/h2&gt;

&lt;h3 id=&quot;换源之前一定要看好当前系统的版本是什么我之前的问题很多原因是因为当前系统版本是stretch我却给写成了其他的&quot;&gt; 换源之前一定要看好当前系统的版本是什么。！！我之前的问题很多原因是因为当前系统版本是stretch我却给写成了其他的。&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://shumeipai.nxez.com/2013/08/31/raspbian-chinese-software-source.html
sudo nano /etc/apt/sources.list
deb http://mirrors.aliyun.com/raspbian/raspbian/ stretch main contrib non-free
deb-src http://mirrors.aliyun.com/raspbian/raspbian/ stretch main contrib non-free
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>利用nginx实现反向代理</title>
   <link href="http://qiushangzhe.github.io/pi-nginx-proxy.html"/>
   <updated>2018-01-02T00:00:00+08:00</updated>
   <id>/pi-nginx-proxy</id>
   <content type="html">&lt;h2 id=&quot;这是啥&quot;&gt;这是啥？&lt;/h2&gt;

&lt;p&gt;在使用树莓派充当个人服务器的过程中，由于网络运营商的问题，无法给我的树莓派分配公网ip，所以需要在第三方服务提供商购买内网穿透服务。本人选用的是 &lt;a href=&quot;https://natapp.cn/&quot;&gt;natapp&lt;/a&gt; 。最便宜的低至5元/月。但是在使用穿透服务的时候，有一个问题，那就是每一个隧道只能对应一个端口，那么也就是说，我在树莓派上部署多个服务的时候，就要购买多个natapp的隧道。这个就很不愉快了。所以，我决定使用nginx来进行反向代理。&lt;/p&gt;

&lt;h3 id=&quot;整体的结构图应该是这样没仔细画&quot;&gt;整体的结构图应该是这样(没仔细画):&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/source/images/pi-nginx-proxy/nginx01.png&quot; alt=&quot;截图&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;第一步：购买natapp隧道部分我就不细表了，官网都有文档教程。&lt;/li&gt;
  &lt;li&gt;第二步：在树莓派上安装nginx，并配置反向代理。
    &lt;ul&gt;
      &lt;li&gt;安装nginx我也不细说了。&lt;/li&gt;
      &lt;li&gt;主要写一下怎么配置反向代理。&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;nginx反向代理配置多用于一个外网端口多个内网服务端口&quot;&gt;nginx反向代理配置（多用于一个外网端口，多个内网服务端口）&lt;/h3&gt;
&lt;p&gt;首先我在本地用koa开启了两个http服务。
端口分别是3000和3001
返回的是当前访问的url和服务的端口号&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/source/images/pi-nginx-proxy/nginx02.png&quot; alt=&quot;截图&quot; /&gt;
&lt;img src=&quot;http://localhost:4000/source/images/pi-nginx-proxy/nginx03.png&quot; alt=&quot;截图&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;然后nginx的配置文件&quot;&gt;然后nginx的配置文件&lt;/h3&gt;
&lt;div class=&quot;language-nginx highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/service1/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://127.0.0.1:3000/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/service2/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://127.0.0.1:3001/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h3 id=&quot;最后重启nginx&quot;&gt;最后重启nginx&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/source/images/pi-nginx-proxy/nginx05.png&quot; alt=&quot;截图&quot; /&gt;
&lt;img src=&quot;http://localhost:4000/source/images/pi-nginx-proxy/nginx06.png&quot; alt=&quot;截图&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;nginx配置一个外网端口多个静态网站&quot;&gt;nginx配置（一个外网端口，多个静态网站）&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;为了方便测试，我在本地创建了两个文件夹，作为两个网站的根目录。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;http://localhost:4000/source/images/pi-nginx-proxy/nginx04.png&quot; alt=&quot;截图&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;开始配置nginx：&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-nginx highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^~&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/service1/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/Users/qiusz/qiushangzhe/mycode/testcode/web01/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^~&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/service2/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/Users/qiusz/qiushangzhe/mycode/testcode/web02/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;额外的&quot;&gt;额外的&lt;/h2&gt;

&lt;p&gt;这里着重说一下location中的alias，当这个地方写root 的时候，当你访问&lt;code class=&quot;highlighter-rouge&quot;&gt;127.0.0.1/service1/index.html&lt;/code&gt;的时候，nginx访问你本地的路径是&lt;code class=&quot;highlighter-rouge&quot;&gt;/Users/qiusz/qiushangzhe/mycode/testcode/web01/service1/index.html&lt;/code&gt; 而使用alias的时候，同样前提下，nginx访问你本地的文件路径则是&lt;code class=&quot;highlighter-rouge&quot;&gt;/Users/qiusz/qiushangzhe/mycode/testcode/web01/index.html&lt;/code&gt; 注意这个区别。具体需求用不同的方案配置。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;关于root和alias的区别，参考 http://blog.csdn.net/u011510825/article/details/50531864&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>如何令你的npm包全局可执行</title>
   <link href="http://qiushangzhe.github.io/run-npm.html"/>
   <updated>2017-08-04T00:00:00+08:00</updated>
   <id>/run-npm</id>
   <content type="html">&lt;h2 id=&quot;写在前面的&quot;&gt;写在前面的&lt;/h2&gt;

&lt;p&gt;npm包的编写发布已经会了，但是如何另它像gulp一样可以直接在命令行全局执行呢？&lt;/p&gt;

&lt;p&gt;linux环境的可执行命令都会放在/bin 目录下。&lt;/p&gt;

&lt;p&gt;mac环境的可执行命令有一些是放在/usr/local/bin 目录下的&lt;/p&gt;

&lt;p&gt;所以想让我们的包可以命令行执行，就得让我们的入口可执行脚本文件出现在在bin目录下，幸运的是，这个操作npm帮我们做了。如果想让npm帮我们实现这个功能，需要做如下配置&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;在入口脚本文件第一行添加  #!/usr/bin/env node  来告诉shell，这个脚本是要通过node来执行。&lt;/li&gt;
  &lt;li&gt;在 package.json 文件中添加字段 bin&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;执行的命令&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;添加了#!/usr/bin/env node的入口文件&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;比如&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;xxx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;main.js&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
  &lt;li&gt;配置好以后，可以通过npm link进行调试。
    &lt;ul&gt;
      &lt;li&gt;在写好的包的路径控制台输入 npm link&lt;/li&gt;
      &lt;li&gt;在一个新的路径 控制台输入 npm link xxx&lt;/li&gt;
      &lt;li&gt;在当前路径 控制台输入 xxx&lt;/li&gt;
      &lt;li&gt;main.js被执行了&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;如果其他人想使用你的包，安装方式为 npm install 你的包地址 -g ，前提是你发布的仓库是github。
安装完成后执行xxx即可&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>如何编写并发布一个npm包</title>
   <link href="http://qiushangzhe.github.io/who-to-wirte-npm.html"/>
   <updated>2017-08-03T00:00:00+08:00</updated>
   <id>/who-to-wirte-npm</id>
   <content type="html">&lt;h2 id=&quot;干啥的&quot;&gt;干啥的&lt;/h2&gt;

&lt;p&gt;做js开发的 人应该对 npm install xxxx 这个指令并不陌生。当做一个需求的时候，有些功能有人已经写好了，你只需要执行这个命令去安装它的包就可以了。非常方便。那么如何来写一个我们自己的npm包呢？&lt;/p&gt;

&lt;h2 id=&quot;简单说一些&quot;&gt;简单说一些&lt;/h2&gt;

&lt;p&gt;我们想要的一个工具包类似如下的使用过程&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;npm install xxxx –save&lt;/li&gt;
  &lt;li&gt;代码中引入&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-javascript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;xxx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'xxx'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;xxx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;someFunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;编写&quot;&gt;编写&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;模块内部写的东西不细说了。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;整个模块需要一个入口 比如index.js。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;入口配置在 package.json 的 main 字段&lt;/p&gt;
    &lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;main&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;index.js&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;发布到github&quot;&gt;发布到github&lt;/h2&gt;
&lt;p&gt;在 package.json 的 repository 字段配置仓库信息，这里是git作为仓库&lt;/p&gt;
&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;repository&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;git&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;url&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;填写你的git仓库地址&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;然后你本地安装的时候只需要 npm install 你的git仓库地址  就可以了&lt;/p&gt;

&lt;h2 id=&quot;发布到npm官方库&quot;&gt;发布到npm官方库&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;不详细介绍了，尽量不往官方仓库提交低质量包。自己使用建议还是放在git上&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;注册npm账号&lt;/li&gt;
  &lt;li&gt;本地登录&lt;/li&gt;
  &lt;li&gt;npm publish&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>忧伤，网易云跟贴8月1日将停止服务!</title>
   <link href="http://qiushangzhe.github.io/web/neteasy-gentie-stop.html"/>
   <updated>2017-07-06T08:01:01+08:00</updated>
   <id>/web/neteasy-gentie-stop</id>
   <content type="html">&lt;p&gt;晚上浏览博客时，发现网友新的留言，于是点开浏览器收藏下的网易云跟贴（https://gentie.163.com/）准备进后台看看，不料刚进云跟贴首页，就弹出一个大大的8.1日停服通告&lt;!-- more --&gt;&lt;/p&gt;

&lt;p&gt;整个人一惊，这才把留言插件从多说换到网易云跟贴不到2个月吧，说要停服就要停了，这世界怎么了？&lt;/p&gt;

&lt;p&gt;友言尚在，但不支持https，用不了！&lt;/p&gt;

&lt;p&gt;畅言？要备案号，扯淡！&lt;/p&gt;

&lt;p&gt;没啥可用的了？！&lt;/p&gt;
</content>
 </entry>
 
 
</feed>